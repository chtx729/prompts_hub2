<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‰é’®é«˜åº¦å’Œé¢œè‰²ä¿®å¤éªŒè¯</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: var(--background-color);
        }
        .test-container {
            background: var(--surface-color);
            padding: 2rem;
            border-radius: var(--radius-xl);
            margin-bottom: 2rem;
        }
        .test-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-lg);
            cursor: pointer;
            margin: 0.5rem;
        }
        .test-button:hover {
            background: var(--primary-hover);
        }
        .fix-box {
            background: var(--success-50);
            border: 1px solid var(--success-200);
            border-radius: var(--radius-md);
            padding: 1rem;
            margin: 1rem 0;
        }
        .demo-card {
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            background: white;
            margin: 1rem 0;
            overflow: hidden;
        }
        .demo-card-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .demo-card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .demo-card-title:hover {
            color: var(--primary-color);
        }
        .demo-card-description {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
        }
        .height-ruler {
            background: repeating-linear-gradient(
                to right,
                #ff0000 0px,
                #ff0000 1px,
                transparent 1px,
                transparent 5px
            );
            height: 32px;
            margin: 1rem 0;
            border: 1px solid #ff0000;
            position: relative;
        }
        .height-ruler::after {
            content: "32px æ ‡å‡†é«˜åº¦";
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            padding: 0 5px;
            font-size: 12px;
            color: #ff0000;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/api.js"></script>
    <script src="js/myspace.js"></script>
    <script src="js/prompts.js"></script>
    <script src="js/main.js"></script>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”§ æŒ‰é’®é«˜åº¦å’Œé¢œè‰²ä¿®å¤éªŒè¯</h1>
        <p>éªŒè¯æ‰€æœ‰æŒ‰é’®é«˜åº¦ä¸€è‡´ä¸”é¢œè‰²ç»Ÿä¸€ä¸ºç´«è‰²ä¸»é¢˜</p>
    </div>

    <div class="test-container">
        <h3>ä¿®å¤å†…å®¹</h3>
        
        <div class="fix-box">
            <h4>âœ… ä¿®å¤é—®é¢˜</h4>
            <ul>
                <li><strong>é«˜åº¦ç»Ÿä¸€</strong>ï¼šæ‰€æœ‰æŒ‰é’®é«˜åº¦ç»Ÿä¸€ä¸º32px</li>
                <li><strong>é¢œè‰²ç»Ÿä¸€</strong>ï¼šæ‰€æœ‰æŒ‰é’®ä½¿ç”¨ç´«è‰²ä¸»é¢˜</li>
                <li><strong>å¯¹é½ä¼˜åŒ–</strong>ï¼šæŒ‰é’®å‚ç›´å±…ä¸­å¯¹é½</li>
                <li><strong>æ ·å¼ä¸€è‡´</strong>ï¼šæ¸å˜èƒŒæ™¯å’Œæ‚¬æµ®æ•ˆæœç»Ÿä¸€</li>
            </ul>
        </div>
    </div>

    <div class="test-container">
        <h3>é«˜åº¦æ ‡å‡†å‚è€ƒ</h3>
        <div class="height-ruler"></div>
        <p style="font-size: 12px; color: var(--text-secondary);">
            æ‰€æœ‰æŒ‰é’®åº”è¯¥ä¸ä¸Šæ–¹çº¢è‰²æ ‡å°ºé«˜åº¦ä¸€è‡´ï¼ˆ32pxï¼‰
        </p>
    </div>

    <div class="test-container">
        <h3>æŒ‰é’®æ ·å¼æ¼”ç¤º</h3>
        
        <div class="demo-card">
            <div class="demo-card-header">
                <div class="demo-card-title" onclick="alert('ç‚¹å‡»æ ‡é¢˜æŸ¥çœ‹è¯¦æƒ…ï¼')">
                    æˆ‘åˆ›å»ºçš„æç¤ºè¯ç¤ºä¾‹ï¼ˆç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼‰
                </div>
                <div class="demo-card-description">
                    éªŒè¯æŸ¥çœ‹ã€ç¼–è¾‘ã€åˆ é™¤æŒ‰é’®çš„é«˜åº¦å’Œé¢œè‰²æ˜¯å¦ç»Ÿä¸€...
                </div>
            </div>
            <div class="prompt-card-actions">
                <button class="btn view-prompt-btn" onclick="alert('æŸ¥çœ‹æŒ‰é’®ç‚¹å‡»ï¼')">
                    <i class="fas fa-eye"></i> æŸ¥çœ‹
                </button>
                <div class="my-prompt-actions">
                    <button class="btn" onclick="alert('ç¼–è¾‘æŒ‰é’®ç‚¹å‡»ï¼')">
                        <i class="fas fa-edit"></i> ç¼–è¾‘
                    </button>
                    <button class="btn btn-danger" onclick="alert('åˆ é™¤æŒ‰é’®ç‚¹å‡»ï¼')">
                        <i class="fas fa-trash"></i> åˆ é™¤
                    </button>
                </div>
            </div>
        </div>

        <div class="demo-card">
            <div class="demo-card-header">
                <div class="demo-card-title" onclick="alert('ç‚¹å‡»æ ‡é¢˜æŸ¥çœ‹è¯¦æƒ…ï¼')">
                    æˆ‘æ”¶è—çš„æç¤ºè¯ç¤ºä¾‹ï¼ˆç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼‰
                </div>
                <div class="demo-card-description">
                    éªŒè¯æŸ¥çœ‹ã€å–æ¶ˆæ”¶è—æŒ‰é’®çš„é«˜åº¦å’Œé¢œè‰²æ˜¯å¦ç»Ÿä¸€...
                </div>
            </div>
            <div class="prompt-card-actions">
                <button class="btn view-prompt-btn" onclick="alert('æŸ¥çœ‹æŒ‰é’®ç‚¹å‡»ï¼')">
                    <i class="fas fa-eye"></i> æŸ¥çœ‹
                </button>
                <div class="my-prompt-actions">
                    <button class="btn" onclick="alert('å–æ¶ˆæ”¶è—æŒ‰é’®ç‚¹å‡»ï¼')">
                        <i class="fas fa-heart-broken"></i> å–æ¶ˆæ”¶è—
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="test-container">
        <h3>åŠŸèƒ½éªŒè¯</h3>
        
        <div class="fix-box">
            <h4>ğŸ” éªŒè¯è¦ç‚¹</h4>
            <ul>
                <li><strong>é«˜åº¦ä¸€è‡´</strong>ï¼šæ‰€æœ‰æŒ‰é’®é«˜åº¦éƒ½æ˜¯32px</li>
                <li><strong>é¢œè‰²ç»Ÿä¸€</strong>ï¼šæŸ¥çœ‹ã€ç¼–è¾‘ã€å–æ¶ˆæ”¶è—æŒ‰é’®éƒ½æ˜¯ç´«è‰²</li>
                <li><strong>åˆ é™¤æŒ‰é’®</strong>ï¼šä¿æŒçº¢è‰²è­¦å‘Šæ ·å¼</li>
                <li><strong>å¯¹é½æ•ˆæœ</strong>ï¼šæŒ‰é’®åœ¨åŒä¸€æ°´å¹³çº¿ä¸Š</li>
                <li><strong>æ‚¬æµ®æ•ˆæœ</strong>ï¼šæ‰€æœ‰æŒ‰é’®æœ‰ä¸€è‡´çš„æ‚¬æµ®åŠ¨ç”»</li>
            </ul>
        </div>

        <button class="test-button" onclick="testButtonHeights()">æµ‹è¯•æŒ‰é’®é«˜åº¦</button>
        <button class="test-button" onclick="testButtonColors()">æµ‹è¯•æŒ‰é’®é¢œè‰²</button>
        <button class="test-button" onclick="testButtonAlignment()">æµ‹è¯•æŒ‰é’®å¯¹é½</button>
        <button class="test-button" onclick="goToMySpace()">å‰å¾€æˆ‘çš„ç©ºé—´å®é™…æµ‹è¯•</button>
    </div>

    <script>
        function testButtonHeights() {
            console.log('=== æµ‹è¯•æŒ‰é’®é«˜åº¦ ===');
            
            const buttons = document.querySelectorAll('.prompt-card-actions .btn');
            const heights = [];
            
            buttons.forEach((btn, index) => {
                const height = btn.offsetHeight;
                heights.push(height);
                console.log(`æŒ‰é’® ${index + 1} é«˜åº¦: ${height}px`);
            });
            
            const allSameHeight = heights.every(h => h === heights[0]);
            const expectedHeight = 32;
            const correctHeight = heights.every(h => h === expectedHeight);
            
            if (allSameHeight && correctHeight) {
                alert(`âœ… æŒ‰é’®é«˜åº¦æµ‹è¯•é€šè¿‡\n\næ‰€æœ‰æŒ‰é’®é«˜åº¦ç»Ÿä¸€ä¸º: ${heights[0]}px\nç¬¦åˆé¢„æœŸçš„32pxæ ‡å‡†`);
            } else if (allSameHeight) {
                alert(`âš ï¸ æŒ‰é’®é«˜åº¦ä¸€è‡´ä½†ä¸ç¬¦åˆæ ‡å‡†\n\nå½“å‰é«˜åº¦: ${heights[0]}px\né¢„æœŸé«˜åº¦: ${expectedHeight}px`);
            } else {
                alert(`âŒ æŒ‰é’®é«˜åº¦ä¸ä¸€è‡´\n\né«˜åº¦åˆ†å¸ƒ: ${heights.join(', ')}px\né¢„æœŸé«˜åº¦: ${expectedHeight}px`);
            }
        }

        function testButtonColors() {
            console.log('=== æµ‹è¯•æŒ‰é’®é¢œè‰² ===');
            
            const viewBtn = document.querySelector('.view-prompt-btn');
            const editBtn = document.querySelector('.my-prompt-actions .btn:not(.btn-danger)');
            const deleteBtn = document.querySelector('.btn-danger');
            
            if (viewBtn && editBtn && deleteBtn) {
                const viewBg = getComputedStyle(viewBtn).background;
                const editBg = getComputedStyle(editBtn).background;
                const deleteBg = getComputedStyle(deleteBtn).background;
                
                console.log('æŸ¥çœ‹æŒ‰é’®èƒŒæ™¯:', viewBg);
                console.log('ç¼–è¾‘æŒ‰é’®èƒŒæ™¯:', editBg);
                console.log('åˆ é™¤æŒ‰é’®èƒŒæ™¯:', deleteBg);
                
                const hasPurpleGradient = (bg) => bg.includes('linear-gradient') && (bg.includes('rgb(147, 51, 234)') || bg.includes('var(--primary-'));
                const hasRedGradient = (bg) => bg.includes('linear-gradient') && (bg.includes('rgb(239, 68, 68)') || bg.includes('var(--error-'));
                
                const viewIsPurple = hasPurpleGradient(viewBg);
                const editIsPurple = hasPurpleGradient(editBg);
                const deleteIsRed = hasRedGradient(deleteBg);
                
                if (viewIsPurple && editIsPurple && deleteIsRed) {
                    alert('âœ… æŒ‰é’®é¢œè‰²æµ‹è¯•é€šè¿‡\n\n- æŸ¥çœ‹æŒ‰é’®ï¼šç´«è‰²ä¸»é¢˜ âœ“\n- ç¼–è¾‘æŒ‰é’®ï¼šç´«è‰²ä¸»é¢˜ âœ“\n- åˆ é™¤æŒ‰é’®ï¼šçº¢è‰²è­¦å‘Š âœ“');
                } else {
                    alert(`âŒ æŒ‰é’®é¢œè‰²æµ‹è¯•å¤±è´¥\n\n- æŸ¥çœ‹æŒ‰é’®ï¼š${viewIsPurple ? 'ç´«è‰² âœ“' : 'éç´«è‰² âœ—'}\n- ç¼–è¾‘æŒ‰é’®ï¼š${editIsPurple ? 'ç´«è‰² âœ“' : 'éç´«è‰² âœ—'}\n- åˆ é™¤æŒ‰é’®ï¼š${deleteIsRed ? 'çº¢è‰² âœ“' : 'éçº¢è‰² âœ—'}`);
                }
            } else {
                alert('âŒ æ‰¾ä¸åˆ°æµ‹è¯•æŒ‰é’®å…ƒç´ ');
            }
        }

        function testButtonAlignment() {
            console.log('=== æµ‹è¯•æŒ‰é’®å¯¹é½ ===');
            
            const buttons = document.querySelectorAll('.prompt-card-actions .btn');
            const positions = [];
            
            buttons.forEach((btn, index) => {
                const rect = btn.getBoundingClientRect();
                positions.push({
                    index: index + 1,
                    top: rect.top,
                    bottom: rect.bottom,
                    height: rect.height
                });
                console.log(`æŒ‰é’® ${index + 1} - top: ${rect.top}, bottom: ${rect.bottom}, height: ${rect.height}`);
            });
            
            const firstTop = positions[0].top;
            const allAligned = positions.every(pos => Math.abs(pos.top - firstTop) < 2); // å…è®¸2pxè¯¯å·®
            
            if (allAligned) {
                alert('âœ… æŒ‰é’®å¯¹é½æµ‹è¯•é€šè¿‡\n\næ‰€æœ‰æŒ‰é’®åœ¨åŒä¸€æ°´å¹³çº¿ä¸Š');
            } else {
                alert('âŒ æŒ‰é’®å¯¹é½æµ‹è¯•å¤±è´¥\n\næŒ‰é’®ä½ç½®ä¸åœ¨åŒä¸€æ°´å¹³çº¿ä¸Š');
            }
        }

        function goToMySpace() {
            console.log('è·³è½¬åˆ°æˆ‘çš„ç©ºé—´é¡µé¢è¿›è¡Œå®é™…æµ‹è¯•...');
            console.log('è¯·éªŒè¯ä»¥ä¸‹å†…å®¹ï¼š');
            console.log('1. æ‰€æœ‰æŒ‰é’®é«˜åº¦æ˜¯å¦ä¸€è‡´ï¼ˆ32pxï¼‰');
            console.log('2. æŸ¥çœ‹ã€ç¼–è¾‘ã€å–æ¶ˆæ”¶è—æŒ‰é’®æ˜¯å¦ä¸ºç´«è‰²');
            console.log('3. åˆ é™¤æŒ‰é’®æ˜¯å¦ä¿æŒçº¢è‰²');
            console.log('4. æŒ‰é’®æ˜¯å¦åœ¨åŒä¸€æ°´å¹³çº¿ä¸Šå¯¹é½');
            window.location.href = 'index.html#my-space';
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('æŒ‰é’®é«˜åº¦å’Œé¢œè‰²ä¿®å¤éªŒè¯é¡µé¢åŠ è½½å®Œæˆ');
            
            setTimeout(() => {
                console.log('å¼€å§‹è‡ªåŠ¨æµ‹è¯•...');
                testButtonHeights();
            }, 1000);
        });
    </script>
</body>
</html>
