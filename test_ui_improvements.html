<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI改进验证</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: var(--background-color);
        }
        .test-container {
            background: var(--surface-color);
            padding: 2rem;
            border-radius: var(--radius-xl);
            margin-bottom: 2rem;
        }
        .test-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-lg);
            cursor: pointer;
            margin: 0.5rem;
        }
        .test-button:hover {
            background: var(--primary-hover);
        }
        .improvement-box {
            background: var(--success-50);
            border: 1px solid var(--success-200);
            border-radius: var(--radius-md);
            padding: 1rem;
            margin: 1rem 0;
        }
        .demo-card {
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            background: white;
            margin: 1rem 0;
            overflow: hidden;
        }
        .demo-card-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .demo-card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .demo-card-title:hover {
            color: var(--primary-color);
        }
        .demo-card-description {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
        }
        .demo-card-actions {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: var(--surface-color);
        }
        .demo-view-btn {
            background: var(--info-color);
            border-color: var(--info-color);
            color: white;
            min-width: 60px;
            font-size: 12px;
            font-weight: 500;
            padding: 0.5rem 0.75rem;
            border-radius: var(--radius-md);
            border: 1px solid;
            cursor: pointer;
        }
        .demo-view-btn:hover {
            background: var(--info-600);
            border-color: var(--info-600);
        }
        .demo-edit-btn {
            background: transparent;
            border-color: var(--border-color);
            color: var(--text-secondary);
            min-width: 60px;
            font-size: 12px;
            font-weight: 500;
            padding: 0.5rem 0.75rem;
            border-radius: var(--radius-md);
            border: 1px solid;
            cursor: pointer;
        }
        .demo-edit-btn:hover {
            background: var(--gray-50);
            border-color: var(--border-hover);
            color: var(--text-primary);
        }
        .feature-list {
            background: var(--info-50);
            border: 1px solid var(--info-200);
            border-radius: var(--radius-md);
            padding: 1rem;
            margin: 1rem 0;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/api.js"></script>
    <script src="js/myspace.js"></script>
    <script src="js/prompts.js"></script>
    <script src="js/main.js"></script>
</head>
<body>
    <div class="test-container">
        <h1>🎨 UI改进验证</h1>
        <p>验证提示词卡片的UI改进效果</p>
    </div>

    <div class="test-container">
        <h3>改进内容</h3>
        
        <div class="improvement-box">
            <h4>✅ 改进1：查看按钮样式优化</h4>
            <ul>
                <li>调整按钮宽度，与其他按钮保持一致</li>
                <li>按钮放置在卡片右下角</li>
                <li>统一设置蓝色主题色彩</li>
            </ul>
        </div>

        <div class="improvement-box">
            <h4>✅ 改进2：标题点击查看功能</h4>
            <ul>
                <li>点击提示词标题可直接查看详情</li>
                <li>标题悬浮时显示主题色</li>
                <li>提升用户交互体验</li>
            </ul>
        </div>

        <div class="improvement-box">
            <h4>✅ 改进3：详情页面滚动优化</h4>
            <ul>
                <li>打开详情页面自动滚动到顶部</li>
                <li>解决页面上下晃动问题</li>
                <li>使用多重延迟确保渲染完成</li>
            </ul>
        </div>
    </div>

    <div class="test-container">
        <h3>UI效果演示</h3>
        
        <div class="demo-card">
            <div class="demo-card-header">
                <div class="demo-card-title" onclick="alert('点击标题查看详情！')">
                    示例提示词标题（点击我查看详情）
                </div>
                <div class="demo-card-description">
                    这是一个示例提示词的描述内容，展示了新的UI设计效果...
                </div>
            </div>
            <div class="demo-card-actions">
                <button class="demo-view-btn" onclick="alert('查看按钮点击！')">
                    <i class="fas fa-eye"></i> 查看
                </button>
            </div>
        </div>

        <div class="demo-card">
            <div class="demo-card-header">
                <div class="demo-card-title" onclick="alert('点击标题查看详情！')">
                    我创建的提示词（点击标题查看）
                </div>
                <div class="demo-card-description">
                    对于我创建的提示词，显示编辑和删除按钮...
                </div>
            </div>
            <div class="demo-card-actions">
                <button class="demo-view-btn" onclick="alert('查看按钮点击！')">
                    <i class="fas fa-eye"></i> 查看
                </button>
                <button class="demo-edit-btn" onclick="alert('编辑按钮点击！')">
                    <i class="fas fa-edit"></i> 编辑
                </button>
                <button class="demo-edit-btn" onclick="alert('删除按钮点击！')" style="color: var(--error-color); border-color: var(--error-color);">
                    <i class="fas fa-trash"></i> 删除
                </button>
            </div>
        </div>
    </div>

    <div class="test-container">
        <h3>功能验证</h3>
        
        <div class="feature-list">
            <h4>🔍 测试要点</h4>
            <ul>
                <li><strong>查看按钮</strong>：宽度适中，蓝色主题，位于右下角</li>
                <li><strong>标题点击</strong>：点击标题可查看详情，悬浮变色</li>
                <li><strong>页面滚动</strong>：详情页面打开时自动滚动到顶部</li>
                <li><strong>响应式</strong>：在不同屏幕尺寸下保持良好效果</li>
            </ul>
        </div>

        <button class="test-button" onclick="testButtonStyles()">测试按钮样式</button>
        <button class="test-button" onclick="testTitleClick()">测试标题点击</button>
        <button class="test-button" onclick="testScrollBehavior()">测试滚动行为</button>
        <button class="test-button" onclick="goToHomePage()">前往首页测试</button>
        <button class="test-button" onclick="goToMySpace()">前往我的空间测试</button>
    </div>

    <script>
        function testButtonStyles() {
            console.log('=== 测试按钮样式 ===');
            
            // 检查CSS变量是否正确定义
            const styles = getComputedStyle(document.documentElement);
            const infoColor = styles.getPropertyValue('--info-color').trim();
            const info600 = styles.getPropertyValue('--info-600').trim();
            
            console.log('info-color:', infoColor);
            console.log('info-600:', info600);
            
            if (infoColor && info600) {
                alert('✅ 按钮样式配置正确\n\n查看按钮使用蓝色主题\n宽度已优化为适中尺寸\n位置调整到右下角');
            } else {
                alert('⚠️ 部分CSS变量可能未定义\n\n请检查CSS配置');
            }
        }

        function testTitleClick() {
            console.log('=== 测试标题点击功能 ===');
            
            // 检查标题是否有正确的样式
            const titles = document.querySelectorAll('.demo-card-title');
            let hasCorrectStyles = true;
            
            titles.forEach(title => {
                const styles = getComputedStyle(title);
                const cursor = styles.cursor;
                const transition = styles.transition;
                
                console.log('标题样式 - cursor:', cursor, 'transition:', transition);
                
                if (cursor !== 'pointer') {
                    hasCorrectStyles = false;
                }
            });
            
            if (hasCorrectStyles) {
                alert('✅ 标题点击功能配置正确\n\n- 鼠标悬浮显示手型光标\n- 点击时有颜色过渡效果\n- 点击可触发查看详情');
            } else {
                alert('⚠️ 标题点击样式可能有问题\n\n请检查CSS配置');
            }
        }

        function testScrollBehavior() {
            console.log('=== 测试滚动行为 ===');
            
            if (typeof UI !== 'undefined' && typeof UI.scrollToTop === 'function') {
                console.log('测试scrollToTop方法...');
                UI.scrollToTop();
                
                setTimeout(() => {
                    alert('✅ 滚动功能正常\n\n- scrollToTop方法可用\n- 支持多种滚动方式\n- 包含延迟确保机制');
                }, 200);
            } else {
                alert('❌ scrollToTop方法不可用');
            }
        }

        function goToHomePage() {
            console.log('跳转到首页测试UI改进效果...');
            window.location.href = 'index.html';
        }

        function goToMySpace() {
            console.log('跳转到我的空间测试UI改进效果...');
            window.location.href = 'index.html#my-space';
        }

        // 页面加载完成后的初始化
        document.addEventListener('DOMContentLoaded', () => {
            console.log('UI改进验证页面加载完成');
            
            // 添加演示效果
            const demoTitles = document.querySelectorAll('.demo-card-title');
            demoTitles.forEach(title => {
                title.addEventListener('mouseenter', () => {
                    title.style.color = 'var(--primary-color)';
                });
                
                title.addEventListener('mouseleave', () => {
                    title.style.color = 'var(--text-primary)';
                });
            });
            
            console.log('演示效果已激活');
        });
    </script>
</body>
</html>
