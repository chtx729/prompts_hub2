<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½œè€…ä¸ªäººç®€ä»‹æ˜¾ç¤ºæµ‹è¯•</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            background: var(--background-color);
        }
        .test-container {
            background: var(--surface-color);
            padding: 2rem;
            border-radius: var(--radius-xl);
            margin-bottom: 2rem;
        }
        .test-section {
            margin-bottom: 2rem;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
        }
        .test-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-lg);
            cursor: pointer;
            margin: 0.5rem;
        }
        .test-button:hover {
            background: var(--primary-hover);
        }
        .demo-detail {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            overflow: hidden;
        }
        .bio-input {
            width: 100%;
            min-height: 80px;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-lg);
            font-family: inherit;
            resize: vertical;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ‘¤ ä½œè€…ä¸ªäººç®€ä»‹æ˜¾ç¤ºæµ‹è¯•</h1>
        <p>æµ‹è¯•æç¤ºè¯è¯¦æƒ…é¡µé¢ä¸­ä½œè€…ä¸ªäººç®€ä»‹çš„æ˜¾ç¤ºæ•ˆæœ</p>
    </div>

    <div class="test-container">
        <div class="test-section">
            <h3>1. ä¸ªäººç®€ä»‹å†…å®¹è®¾ç½®</h3>
            <p>è®¾ç½®ä¸åŒçš„ä¸ªäººç®€ä»‹å†…å®¹ï¼Œæµ‹è¯•æ˜¾ç¤ºæ•ˆæœ</p>
            
            <div class="form-group">
                <label for="author-name">ä½œè€…å§“å</label>
                <input type="text" id="author-name" value="å¼ ä¸‰" placeholder="è¾“å…¥ä½œè€…å§“å">
            </div>
            
            <div class="form-group">
                <label for="author-bio">ä¸ªäººç®€ä»‹</label>
                <textarea id="author-bio" class="bio-input" placeholder="è¾“å…¥ä¸ªäººç®€ä»‹å†…å®¹...">æˆ‘æ˜¯ä¸€åAIæç¤ºè¯å·¥ç¨‹å¸ˆï¼Œä¸“æ³¨äºåˆ›ä½œé«˜è´¨é‡çš„AIæç¤ºè¯ã€‚æ‹¥æœ‰5å¹´çš„äººå·¥æ™ºèƒ½åº”ç”¨ç»éªŒï¼Œæ“…é•¿è‡ªç„¶è¯­è¨€å¤„ç†å’Œæœºå™¨å­¦ä¹ ã€‚</textarea>
            </div>
            
            <div>
                <button class="test-button" onclick="generatePreview()">ç”Ÿæˆé¢„è§ˆ</button>
                <button class="test-button" onclick="testEmptyBio()">æµ‹è¯•ç©ºç®€ä»‹</button>
                <button class="test-button" onclick="testLongBio()">æµ‹è¯•é•¿ç®€ä»‹</button>
                <button class="test-button" onclick="testShortBio()">æµ‹è¯•çŸ­ç®€ä»‹</button>
            </div>
        </div>

        <div class="test-section">
            <h3>2. æç¤ºè¯è¯¦æƒ…é¢„è§ˆ</h3>
            <p>é¢„è§ˆä¸ªäººç®€ä»‹åœ¨æç¤ºè¯è¯¦æƒ…é¡µé¢ä¸­çš„æ˜¾ç¤ºæ•ˆæœ</p>
            <div id="detail-preview"></div>
        </div>

        <div class="test-section">
            <h3>3. æµ‹è¯•åœºæ™¯è¯´æ˜</h3>
            <div style="background: var(--info-50); padding: 1rem; border-radius: var(--radius-lg); border: 1px solid var(--info-200);">
                <h4>æµ‹è¯•è¦ç‚¹ï¼š</h4>
                <ul>
                    <li><strong>æœ‰ç®€ä»‹æ—¶</strong>ï¼šåœ¨ä½œè€…å¤´åƒå’Œå§“åä¸‹æ–¹æ˜¾ç¤ºä¸ªäººç®€ä»‹</li>
                    <li><strong>æ— ç®€ä»‹æ—¶</strong>ï¼šä¸æ˜¾ç¤ºç®€ä»‹åŒºåŸŸï¼Œä¿æŒå¸ƒå±€ç®€æ´</li>
                    <li><strong>é•¿ç®€ä»‹</strong>ï¼šè‡ªåŠ¨æ¢è¡Œï¼Œä¿æŒè‰¯å¥½çš„å¯è¯»æ€§</li>
                    <li><strong>æ ·å¼ä¸€è‡´</strong>ï¼šä¸æ•´ä½“è®¾è®¡é£æ ¼ä¿æŒä¸€è‡´</li>
                </ul>
                
                <h4>æ˜¾ç¤ºä½ç½®ï¼š</h4>
                <p>ä¸ªäººç®€ä»‹æ˜¾ç¤ºåœ¨æç¤ºè¯è¯¦æƒ…é¡µé¢å³ä¾§è¾¹æ çš„ä½œè€…å¡ç‰‡ä¸­ï¼Œä½äºä½œè€…å§“åä¸‹æ–¹ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        function generatePreview() {
            const authorName = document.getElementById('author-name').value || 'åŒ¿åç”¨æˆ·';
            const authorBio = document.getElementById('author-bio').value;
            
            const previewHtml = createDetailPreview(authorName, authorBio);
            document.getElementById('detail-preview').innerHTML = previewHtml;
            
            console.log('é¢„è§ˆå·²ç”Ÿæˆ');
            console.log('ä½œè€…:', authorName);
            console.log('ç®€ä»‹:', authorBio || '(æ— )');
        }

        function testEmptyBio() {
            document.getElementById('author-name').value = 'æå››';
            document.getElementById('author-bio').value = '';
            generatePreview();
        }

        function testLongBio() {
            document.getElementById('author-name').value = 'ç‹äº”';
            document.getElementById('author-bio').value = 'æˆ‘æ˜¯ä¸€åèµ„æ·±çš„AIç ”ç©¶å‘˜å’Œæç¤ºè¯å·¥ç¨‹å¸ˆï¼Œåœ¨äººå·¥æ™ºèƒ½é¢†åŸŸæœ‰è¶…è¿‡10å¹´çš„ç ”ç©¶å’Œå®è·µç»éªŒã€‚ä¸“æ³¨äºè‡ªç„¶è¯­è¨€å¤„ç†ã€æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„åº”ç”¨ã€‚æ›¾åœ¨å¤šå®¶çŸ¥åç§‘æŠ€å…¬å¸æ‹…ä»»AIç®—æ³•å·¥ç¨‹å¸ˆï¼Œå‚ä¸è¿‡å¤šä¸ªå¤§å‹AIé¡¹ç›®çš„å¼€å‘ã€‚çƒ­è¡·äºåˆ†äº«AIçŸ¥è¯†ï¼Œå¸®åŠ©æ›´å¤šäººäº†è§£å’Œä½¿ç”¨AIæŠ€æœ¯ã€‚æ“…é•¿åˆ›ä½œå„ç§ç±»å‹çš„AIæç¤ºè¯ï¼ŒåŒ…æ‹¬æ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆã€ä»£ç ç”Ÿæˆç­‰å¤šä¸ªé¢†åŸŸã€‚';
            generatePreview();
        }

        function testShortBio() {
            document.getElementById('author-name').value = 'èµµå…­';
            document.getElementById('author-bio').value = 'AIçˆ±å¥½è€…ï¼Œå–œæ¬¢åˆ›ä½œæç¤ºè¯ã€‚';
            generatePreview();
        }

        function createDetailPreview(authorName, authorBio) {
            const authorAvatar = 'https://api.dicebear.com/7.x/avataaars/svg?seed=' + encodeURIComponent(authorName);
            
            return `
                <div class="demo-detail">
                    <div class="prompt-detail">
                        <div class="prompt-detail-main" style="display: flex; gap: 2rem;">
                            <div style="flex: 1;">
                                <div class="prompt-detail-content">
                                    <div class="prompt-meta">
                                        <span class="prompt-category" style="background-color: #4f46e5">
                                            <i class="fas fa-tag"></i>
                                            ç¤ºä¾‹åˆ†ç±»
                                        </span>
                                        <span class="prompt-date">${new Date().toLocaleDateString()}</span>
                                    </div>
                                    
                                    <h1 class="prompt-title">ç¤ºä¾‹æç¤ºè¯æ ‡é¢˜</h1>
                                    
                                    <p class="prompt-description">è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æç¤ºè¯çš„æè¿°ä¿¡æ¯ï¼Œç”¨äºå±•ç¤ºä¸ªäººç®€ä»‹çš„æ˜¾ç¤ºæ•ˆæœã€‚</p>
                                    
                                    <div class="prompt-stats-detail">
                                        <div class="stat-item">
                                            <i class="fas fa-eye"></i>
                                            <span>æµè§ˆ 123</span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="fas fa-copy"></i>
                                            <span>ä½¿ç”¨ 45</span>
                                        </div>
                                        <div class="stat-item">
                                            <i class="fas fa-heart"></i>
                                            <span>ç‚¹èµ 12</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="prompt-detail-sidebar" style="width: 300px;">
                                <div class="author-card">
                                    <img src="${authorAvatar}" alt="${escapeHtml(authorName)}" class="author-avatar">
                                    <div class="author-info">
                                        <h4 class="author-name">${escapeHtml(authorName)}</h4>
                                        ${authorBio ? `<p class="author-bio">${escapeHtml(authorBio)}</p>` : ''}
                                    </div>
                                </div>
                                
                                <div class="prompt-actions">
                                    <button class="btn btn-primary btn-full">
                                        <i class="fas fa-heart"></i>
                                        ç‚¹èµ
                                    </button>
                                    <button class="btn btn-outline btn-full">
                                        <i class="fas fa-star"></i>
                                        æ”¶è—
                                    </button>
                                    <button class="btn btn-primary btn-full">
                                        <i class="fas fa-copy"></i>
                                        å¤åˆ¶æç¤ºè¯
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // é¡µé¢åŠ è½½å®Œæˆåç”Ÿæˆåˆå§‹é¢„è§ˆ
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ä½œè€…ä¸ªäººç®€ä»‹æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            generatePreview();
        });
    </script>
</body>
</html>
